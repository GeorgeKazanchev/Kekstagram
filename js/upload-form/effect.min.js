"use strict";!function(){let e={none:0,chrome:0,sepia:0,marvin:0,phobos:0,heat:1},t={none:0,chrome:1,sepia:1,marvin:100,phobos:3,heat:3},r=document.querySelector(".img-upload__preview img"),s=document.querySelector(".effect-level__value"),l=document.querySelector(".effect-level"),n=document.querySelector(".effect-level__slider"),i=document.querySelector(".img-upload__effects"),o=(e,t)=>{switch(e){case"none":return"";case"chrome":return`grayscale(${t})`;case"sepia":return`sepia(${t})`;case"marvin":return`invert(${t}%)`;case"phobos":return`blur(${t}px)`;case"heat":return`brightness(${t})`;default:throw Error("There is no given filter type.")}},a=l=>{let n=document.querySelector(".effects__radio:checked").value,i=l*(t[n]-e[n]);r.style.filter=o(n,i),r.className=`effects__preview--${n}`,s.value=l};n.addEventListener("mousedown",e=>{e.preventDefault();let t=e.target,r=t.offsetParent,s=r.getBoundingClientRect(),l=n.offsetWidth/2,i=r.clientWidth-t.offsetWidth,o=l,c=r.clientWidth-l,f=e.clientX,u=e=>{let t=e-f;f=e;let r=n.offsetLeft+t;e<s.left+l?r=o:e>s.right-l&&(r=c),n.style.left=`${r}px`},d=()=>{let e=(t.offsetLeft-l)/i;a(e=Math.floor(100*e)/100)},v=e=>{e.preventDefault(),u(e.clientX),d()},h=e=>{e.preventDefault(),u(e.clientX),d(),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",h)}),i.addEventListener("change",e=>{let t=e.target.closest(".effects__radio");if(!t)return;let r=t.value;"none"===r?l.classList.add("hidden"):l.classList.remove("hidden"),n.style.left=`calc(100% - ${n.offsetWidth}px / 2)`,a(1)}),window.effect={changeImageEffect:a}}();
